import{L as S,F as x,T,P as I,C as R}from"./tooltip.esm-BEuoof_M.js";import{U as M,_ as w,o,c as a,a as l,w as v,v as P,q as g,A as p,F as h,f,n as b,t as u,e as U,g as m,d as V,z as E,r as F,h as L,b as B,T as N}from"./_plugin-vue_export-helper-DoHBPGJP.js";import{l as O}from"./index.m-CcLLwZv7.js";import"./_commonjsHelpers-C4iS2aBk.js";import"./___vite-browser-external_commonjs-proxy-BqV5D26a.js";import"./dayjs.min-DP3bDNw0.js";import"./api.esm-BXm9v744.js";import"./basestyle.esm-sxIhfaja.js";import"./confirmationeventbus.esm-BthteoSj.js";import"./basedirective.esm-BYaP1sXC.js";import"./parse-B3pZ8sEA.js";$(document).ready(function(){let t,e=$("#newsletter_form input[name=email]"),r=$("#newsletter_recaptcha_widget"),c=!0;e.on("focus",function(){t&&clearTimeout(t),c&&grecaptcha.reset(),r.show(),c=!1}).on("blur",function(){t=setTimeout(function(){r.hide(),c=!0},5e3)})});$(".bloc_tabs_in_content .core_tabs .content_core_tab:not('.action_show')").slideUp();$(document).on("click",".bloc_tabs_in_content .title_tabs",function(){let t=$(this).attr("id");$(".bloc_tabs_in_content .core_tabs .content_core_tab."+t).is(":visible")||($(".bloc_tabs_in_content .title_tabs").removeClass("active"),$(this).addClass("active"),$(".bloc_tabs_in_content .core_tabs .content_core_tab").slideUp(),$(".bloc_tabs_in_content .content_core_tab."+t).slideDown(400))});new Swiper(".table-swiper",{slidesPerView:4,spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{300:{slidesPerView:1,spaceBetween:0},1024:{slidesPerView:4,spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}});new Swiper(".table-swiper-2",{slidesPerView:4,spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{300:{slidesPerView:1,spaceBetween:0},1024:{slidesPerView:4,spaceBetween:10}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}});window.createVueJsApp=t=>{const e=M(t||{});return e.config.unwrapInjectedRef=!0,e.use(S),e.use(x),e.directive("tooltip",T),e.mixin({methods:{route:O,auth}}),e.use(I),e.use(R),e};const A={name:"search-modal",emits:["close"],data(){return{term:"",results:[],nextPage:1,isLoading:!1,isTyping:!1,selectedResultIndex:0,searchForAllWords:!0,settingsUiIsOpened:!1,filters:{}}},computed:{normalizedTerm(){return this.term.replace(" ","")}},methods:{onInputKeyup:_.debounce(function(){this.results=[],this.nextPage=1,this.normalizedTerm.length>0&&this.search()},700),search(){this.isTyping=!1,this.isLoading=!0;let t={term:this.term,page:this.nextPage,boolean:this.searchForAllWords?"and":"or"};this.isUsingFilters()&&(t.filters={categories:this.filters.categories.filter(e=>e.is_checked).map(e=>e.id)}),axios.post(route("search.results"),t).then(e=>{const r=e.data.data;r.results.forEach(c=>{this.results.push(c)}),this.nextPage=r.next_page,this.isLoading=!1}).catch(e=>{this.isLoading=!1,handleLaravelAxiosErrorResponse(e)})},onSearchResultsScroll(t){this.nextPage&&t.target.scrollTop+t.target.clientHeight>=t.target.scrollHeight&&this.search()},close(){this.$emit("close")},onEscapeKeyup(t){(t.key==="Escape"||t.key==="Esc"||t.keyCode===27)&&this.close()},toggleSettingsUi(){!this.settingsUiIsOpened&&!this.isUsingFilters()&&axios.get(route("search.get-filters")).then(t=>{let e=t.data.data;e.categories.forEach(r=>{r.is_checked=!0}),this.filters=e}).catch(t=>{handleLaravelAxiosErrorResponse(t)}),this.settingsUiIsOpened=!this.settingsUiIsOpened,this.settingsUiIsOpened&&this.$nextTick(function(){document.getElementById("search_modal_results").scrollTop=0})},selectNextResult(){this.selectedResultIndex<this.results.length-1&&(this.selectedResultIndex++,this.scrollToSelectedResult())},selectPreviousResult(){this.selectedResultIndex>0&&(this.selectedResultIndex--,this.scrollToSelectedResult())},scrollToSelectedResult(){const t=this.$refs.results;if(t){const e=t.querySelector(".SearchModal__result:nth-child("+this.selectedResultIndex+")");e&&e.scrollIntoView&&e.scrollIntoView()}},openSelectedResult(){this.results[this.selectedResultIndex]&&(window.location=this.results[this.selectedResultIndex].url)},isUsingFilters(){return Object.keys(this.filters).length>0},onFilterChanged(){this.results=[],this.nextPage=1,this.search()}},mounted(){$("body").addClass("search-modal-is-open"),window.addEventListener("keyup",this.onEscapeKeyup),$("#search_modal_input").trigger("focus")},beforeUnmount(){$("body").removeClass("search-modal-is-open"),window.removeEventListener("keyup",this.onEscapeKeyup)}},H={id:"search_modal"},K={id:"search_modal_bar"},D=l("i",{id:"search_icon",class:"fa-solid fa-magnifying-glass"},null,-1),z=["placeholder"],W=l("i",{class:"fa-solid fa-sliders"},null,-1),j=[W],q={key:0,id:"search_modal_settings"},J={id:"search_modal_filters"},Y=["onMousedown"],Q={class:"form-check form-switch"},G={class:"form-check-label",for:"search_modal_boolean"},X={key:1,ref:"results"},Z=["href"],ee=["src","alt"],te={class:"SearchModal__resultDetails"},se={class:"SearchModal__resultTitle"},ie=["innerHTML"],le={class:"SearchModal__resultTypeName"},ne={key:2,class:"SearchModal__noResults"},oe=l("i",{class:"fa-solid fa-file-circle-xmark"},null,-1),ae={class:"SearchModal__result"},re=E('<div class="SearchModal__resultThumbnail placeholder-glow"><div class="placeholder" style="width:100%;height:100%;"></div></div><div class="SearchModal__resultDetails placeholder-glow"><div class="col-10"><div class="placeholder col-8"></div><div class="placeholder col-6" style="display:block;margin-top:10px;"></div><div class="placeholder col-5"></div></div><span class="placeholder col-1"></span></div>',2),ce=[re];function de(t,e,r,c,n,i){return o(),a("div",{id:"search_modal_overlay",onClick:e[11]||(e[11]=p((...s)=>i.close&&i.close(...s),["self"]))},[l("div",H,[l("div",K,[D,v(l("input",{type:"text",id:"search_modal_input","onUpdate:modelValue":e[0]||(e[0]=s=>n.term=s),onInput:e[1]||(e[1]=(...s)=>i.onInputKeyup&&i.onInputKeyup(...s)),onKeydown:[e[2]||(e[2]=s=>n.isTyping=!0),e[3]||(e[3]=g(p((...s)=>i.openSelectedResult&&i.openSelectedResult(...s),["prevent"]),["enter"])),e[4]||(e[4]=g(p((...s)=>i.selectNextResult&&i.selectNextResult(...s),["prevent"]),["down"])),e[5]||(e[5]=g(p((...s)=>i.selectPreviousResult&&i.selectPreviousResult(...s),["prevent"]),["up"]))],placeholder:t.$trans("site.search_input_placeholder"),autocomplete:"off"},null,40,z),[[P,n.term]]),l("div",{id:"search_modal_settings_button",onMouseup:e[6]||(e[6]=(...s)=>i.toggleSettingsUi&&i.toggleSettingsUi(...s))},j,32)]),l("div",{id:"search_modal_results",onScroll:e[10]||(e[10]=(...s)=>i.onSearchResultsScroll&&i.onSearchResultsScroll(...s))},[n.settingsUiIsOpened?(o(),a("div",q,[l("div",J,[(o(!0),a(h,null,f(n.filters.categories,s=>(o(),a("div",{key:s.name,onMousedown:d=>s.is_checked=!s.is_checked,onMouseup:e[7]||(e[7]=(...d)=>i.onFilterChanged&&i.onFilterChanged(...d)),class:b([{active:s.is_checked},"SearchModal__filterToken"])},u(s.name),43,Y))),128))]),l("div",Q,[v(l("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"search_modal_boolean","onUpdate:modelValue":e[8]||(e[8]=s=>n.searchForAllWords=s),onChange:e[9]||(e[9]=(...s)=>i.onFilterChanged&&i.onFilterChanged(...s))},null,544),[[U,n.searchForAllWords]]),l("label",G,u(t.$trans("site.search_for_all_words")),1)])])):m("",!0),n.results.length>0?(o(),a("div",X,[(o(!0),a(h,null,f(n.results,(s,d)=>(o(),a("a",{key:s.url,href:s.url,class:b([{"SearchModal__result-active":n.selectedResultIndex===d},"SearchModal__result"])},[l("img",{src:s.thumbnail,class:"SearchModal__resultThumbnail",alt:s.title},null,8,ee),l("div",te,[l("div",null,[l("div",se,u(s.title),1),(o(!0),a(h,null,f(s.snippets,(y,C)=>(o(),a("div",{key:C,class:"SearchModal__resultSnippet",innerHTML:y},null,8,ie))),128))]),l("span",le,u(s.typeName),1)])],10,Z))),128))],512)):m("",!0),!n.isTyping&&!n.isLoading&&i.normalizedTerm.length>0&&n.results.length===0?(o(),a("div",ne,[oe,V(" "+u(t.$trans("app.no_matching_data")),1)])):m("",!0),n.isLoading?(o(),a(h,{key:3},f(5,s=>l("div",ae,ce)),64)):m("",!0)],32)])])}const ue=w(A,[["render",de]]),he={name:"search-button",components:{SearchModal:ue},data(){return{modalIsOpen:!1}}},_e=l("i",{class:"fa-solid fa-magnifying-glass"},null,-1),me=[_e];function pe(t,e,r,c,n,i){const s=F("search-modal");return o(),a(h,null,[l("button",{id:"search_button",onMouseup:e[0]||(e[0]=d=>n.modalIsOpen=!0)},me,32),n.modalIsOpen?(o(),L(N,{key:0,to:"body"},[B(s,{onClose:e[1]||(e[1]=d=>n.modalIsOpen=!1)})])):m("",!0)],64)}const fe=w(he,[["render",pe]]);createVueJsApp({components:{SearchButton:fe}}).mount("#search_button");$(document).ready(function(){$("#menu > li ").addClass("menu-burger-1"),$("#menu > li > ul ").addClass("sub-menu"),$("#menu .sub-menu ul ").addClass("sub-menu-child"),$("#menu .sub-menu > li:has(ul)").addClass("has_children"),ge(),ve(),be()});function ge(){$(".main_nav_burger").click(function(){$(".menu_burger").addClass("active")}),$(".close_menu_burger").click(function(){$(".menu_burger").removeClass("active"),$(".menu-burger-1").removeClass("active"),$(".menu-burger-1 .sub-menu").removeClass("active"),$(".menu_col3").removeClass("active"),$(".menu_col2 .nav_child_depth_1").empty(),$(".menu_col3 .nav_child_depth_2").empty()})}function ve(){$(".menu-burger-1").click(function(){$(this).hasClass("active")||($(".menu-burger-1").removeClass("active"),$(".sub-menu").removeClass("active"),$(this).addClass("active"),$(".menu-burger-1 :not(.active)").addClass("not_active"),$(".sub-menu",this).addClass("active"),$(".bloc_retour").addClass("active"))})}function be(){$(".cta_retour").click(function(){$(".menu-burger-1").removeClass("active"),$(".sub-menu").removeClass("active"),$(".bloc_retour").removeClass("active")})}$(".level_1").click(function(){k($(this));let t=$(this).data("bg");$(".bg-menu").css("background-image",'url("'+t+'")')});jQuery(function(t){t(document).on("click",".level_2.has_children",function(){we(t(this))}),t(document).on("click",".back_to_menu_principal",function(){k(t(this))})});function k(t){$(".menu_col3 .nav_child_depth_2").empty();let e=$("ul",t).html();$(".menu_col2 .nav_child_depth_1").html(e),$(".menu_col3").removeClass("active")}function we(t){let e=$("ul",t).html();$(".level_2").removeClass("active"),t.addClass("active");let r='<div class="back_to_menu_principal"><i class="fas fa-arrow-circle-left"></i> Back</div>';$(".menu_col3 .nav_child_depth_2").html(e),$(".menu_col3 .nav_child_depth_2").append(r),$(".menu_col3").addClass("active")}function $e(){return height=$(document).height(),(window.scrollY+2e3)/height*100+"%"}document.addEventListener("scroll",function(t){$(".the-follower").css("height",$e())});$(".news-home").length&&$(".news-home").owlCarousel({loop:!0,margin:0,nav:!1,smartSpeed:500,autoHeight:!1,autoplay:!0,dots:!1,autoplayTimeout:1e4,autoplayHoverPause:!0,navText:['<span class="icon-left-arrow"></span>','<span class="icon-right-arrow"></span>'],responsive:{0:{items:1},600:{items:1},800:{items:1},1024:{items:1},1200:{items:1}}});$(".manifestations-home").length&&$(".manifestations-home").owlCarousel({loop:!0,margin:90,nav:!1,smartSpeed:500,autoHeight:!1,autoplay:!0,dots:!1,autoplayTimeout:1e4,autoplayHoverPause:!0,navText:['<span class="icon-left-arrow"></span>','<span class="icon-right-arrow"></span>'],responsive:{0:{items:1},600:{items:1},800:{items:1},1024:{items:2},1200:{items:2}}});new Swiper(".mySwiper",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}});new Swiper(".mySwiperNews",{slidesPerView:3,grid:{rows:2},spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}});if($(".odometer").length){var ke=$(".odometer");ke.each(function(){$(this).appear(function(){var t=$(this).attr("data-count");$(this).html(t)})})}$(".body-accordiant:not('.action_show')").slideUp();$(document).on("click",".head-accordiant",function(){$(this).next(".body-accordiant").slideToggle(400),$(this).toggleClass("action_show")});$(".content_tab_content:not('.action_show')").slideUp();$(document).on("click",".title_tab_static .title_tabs",function(){let t=$(this).attr("id");$(".content_tab_content."+t).is(":visible")||($(".title_tabs").removeClass("active"),$(this).addClass("active"),$(".content_tab_content").slideUp(),$(".content_tab_content."+t).slideDown(400))});
